@let account = getAccount(tweet.viewModel.author?.pubkey);

<article class="readTweet separator">
  <a *ngIf="tweet.reposted?.size && account" href="javascript:void(0)" class="retweetOrigin">
    {{account.displayName}} has retweeted
  </a>

  <div class="tweetStructure">
    <nostr-profile-picture [account]="account" [verticalConnected]="!!tweet.reposting?.size"></nostr-profile-picture>
    <div class="tweetMetadata">
      <header>
        <address *ngIf="account" class="author userInfo">
          <span class="userName">
            {{account.displayName}}
            <span *ngIf="account.nip05?.valid" class="userVerified"></span>
          </span>
          <span *ngIf="account.nip05?.address" class="userNip5">
            {{account.nip05?.address}}
          </span>
          <time *ngIf="tweet.viewModel.createdAt" [attr.datetime]="tweet.viewModel.createdAt | datetimeIso">{{tweet.viewModel.createdAt | datetimeText}}</time>
        </address>

        <button #popoverTrigger (click)="openTweetContextMenu(tweet, popoverTrigger)" class="svgButton borderless">
          <nostr-svg-render name="ellipsis"></nostr-svg-render>
        </button>
      </header>

      <tw-tweet-content
        class="tweetContent"
        (imgOpen)="onImgOpen($event)"
        [tweet]="tweet"
      ></tw-tweet-content>

      <tw-tweet-button-group *ngIf="!tweet.reposting?.size" [tweet]="tweet"></tw-tweet-button-group>
    </div>
  </div>
</article>